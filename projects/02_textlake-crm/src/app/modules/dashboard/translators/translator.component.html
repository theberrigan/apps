<action-panel *ngIf="canEdit || viewportBreakpoint !== 'mobile'">
    <div class="action-panel__primary">
        <h1 class="action-panel__header action-panel__header_has-arrow" (click)="goBack()">{{ (isEditing ? 'settings.translators.editor.translators_edit__header' : 'settings.translators.editor.translators_add__header') | translate }}</h1>
    </div>
    <div class="action-panel__secondary">
        <div class="action-panel__item" *ngIf="state === 'ready' && canEdit">
            <button type="button" class="button button_regular button_blue"
                [isDisabled]="isSaving"
                [isProgress]="isSaving"
                (click)="onSave()"
            >
                <span class="button__caption">{{ 'settings.translators.editor.save__button' | translate }}</span>
            </button>
        </div>
    </div>
</action-panel>

<ng-container [ngSwitch]="state">
    <div class="translator-editor__spinner" *ngSwitchCase="'loading'">
        <spinner class="spinner spinner_blue spinner_small"></spinner>
    </div>
    <div class="translator-editor__error" *ngSwitchCase="'error'">
        {{ 'settings.translators.editor.init_error__message' | translate }}
    </div>
    <ng-container *ngSwitchCase="'ready'">
        <div class="tabs">
            <div class="tabs__tab" [class.tabs__tab_active]="activeTab === 'general'" (click)="switchTab('general')">
                <span class="tabs__tab-caption">{{ 'settings.translators.editor.general__tab_label' | translate }}</span>
                <svg class="tabs__tab-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
                    <path style="fill: currentColor;" d="M9,0a8.74,8.74,0,0,1,4.5,1.22A9,9,0,0,1,16.78,4.5,8.74,8.74,0,0,1,18,9a8.74,8.74,0,0,1-1.22,4.5,9,9,0,0,1-3.28,3.28A8.74,8.74,0,0,1,9,18a8.74,8.74,0,0,1-4.5-1.22A9,9,0,0,1,1.22,13.5,8.74,8.74,0,0,1,0,9,8.74,8.74,0,0,1,1.22,4.5,9,9,0,0,1,4.5,1.22,8.74,8.74,0,0,1,9,0ZM9,16.26a7.06,7.06,0,0,0,3.63-1,7.32,7.32,0,0,0,2.65-2.65,7.21,7.21,0,0,0,0-7.26,7.4,7.4,0,0,0-2.65-2.65,7.21,7.21,0,0,0-7.26,0A7.48,7.48,0,0,0,2.72,5.37a7.21,7.21,0,0,0,0,7.26,7.4,7.4,0,0,0,2.65,2.65A7.06,7.06,0,0,0,9,16.26Zm2-3.05v-.87a.43.43,0,0,0-.12-.31.46.46,0,0,0-.31-.13h-.44V8.27a.44.44,0,0,0-.43-.43H7.4A.42.42,0,0,0,7.09,8a.41.41,0,0,0-.12.3v.88a.41.41,0,0,0,.12.3.42.42,0,0,0,.31.13h.44V11.9H7.4a.46.46,0,0,0-.31.13.43.43,0,0,0-.12.31v.87a.45.45,0,0,0,.12.31.46.46,0,0,0,.31.13h3.2a.46.46,0,0,0,.31-.13A.45.45,0,0,0,11,13.21ZM9,4a1.44,1.44,0,0,0-1.07.46,1.45,1.45,0,0,0-.45,1.07,1.48,1.48,0,0,0,.45,1.07,1.5,1.5,0,0,0,2.14,0,1.48,1.48,0,0,0,.45-1.07,1.45,1.45,0,0,0-.45-1.07A1.44,1.44,0,0,0,9,4Z"></path>
                </svg>
            </div>
            <div class="tabs__tab" [class.tabs__tab_active]="activeTab === 'services'" (click)="switchTab('services')">
                <span class="tabs__tab-caption">{{ 'settings.translators.editor.services__tab_label' | translate }}</span>
                <svg class="tabs__tab-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
                    <path style="fill: currentColor;" d="M18,4a1,1,0,0,1-1,1H15a25.77,25.77,0,0,1-4.87,7.6,23.46,23.46,0,0,0,3.61,2.78,1,1,0,0,1,.32,1.38,1,1,0,0,1-.85.47,1,1,0,0,1-.53-.15,24.78,24.78,0,0,1-4-3.06,26.31,26.31,0,0,1-4,3.06,1,1,0,0,1-1.38-.32,1,1,0,0,1,.32-1.38A23.83,23.83,0,0,0,7.3,12.6a24.26,24.26,0,0,1-2.42-3,1,1,0,0,1,.27-1.39,1,1,0,0,1,1.38.27,22.78,22.78,0,0,0,2.18,2.74A23.71,23.71,0,0,0,12.82,5H1A1,1,0,0,1,1,3H8V1a1,1,0,0,1,2,0V3h7A1,1,0,0,1,18,4Z"></path>
                </svg>
            </div>
            <div class="tabs__tab" [class.tabs__tab_active]="activeTab === 'financial'" (click)="switchTab('financial')">
                <span class="tabs__tab-caption">{{ 'settings.translators.editor.financial__tab_label' | translate }}</span>
                <svg class="tabs__tab-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
                    <path style="fill: currentColor;" d="M9,0a8.74,8.74,0,0,1,4.5,1.22A9,9,0,0,1,16.78,4.5,8.74,8.74,0,0,1,18,9a8.74,8.74,0,0,1-1.22,4.5,9,9,0,0,1-3.28,3.28A8.74,8.74,0,0,1,9,18a8.74,8.74,0,0,1-4.5-1.22A9,9,0,0,1,1.22,13.5,8.74,8.74,0,0,1,0,9,8.74,8.74,0,0,1,1.22,4.5,9,9,0,0,1,4.5,1.22,8.74,8.74,0,0,1,9,0ZM9,16.26a7.06,7.06,0,0,0,3.63-1,7.32,7.32,0,0,0,2.65-2.65,7.21,7.21,0,0,0,0-7.26,7.32,7.32,0,0,0-2.65-2.65,7.21,7.21,0,0,0-7.26,0A7.32,7.32,0,0,0,2.72,5.37a7.21,7.21,0,0,0,0,7.26,7.32,7.32,0,0,0,2.65,2.65A7.06,7.06,0,0,0,9,16.26Zm-.76-1.74V13.46a4.09,4.09,0,0,1-1.71-.65c-.26-.19-.48-.36-.65-.51a.25.25,0,0,1,0-.36l.83-1.09a.31.31,0,0,1,.19-.13.25.25,0,0,1,.21.09c.2.15.4.3.62.44a2.76,2.76,0,0,0,1.34.4,1.19,1.19,0,0,0,.69-.2.66.66,0,0,0,.29-.6q0-.26-.36-.51a6.32,6.32,0,0,0-1-.47A5.87,5.87,0,0,1,6.9,9,2.25,2.25,0,0,1,6,7.11a2.32,2.32,0,0,1,.62-1.63,3,3,0,0,1,1.63-.91V3.45a.2.2,0,0,1,.09-.18.32.32,0,0,1,.2-.08H9.58a.25.25,0,0,1,.18.08.22.22,0,0,1,.08.18V4.54a4.13,4.13,0,0,1,1.52.5,3.16,3.16,0,0,1,.53.39.26.26,0,0,1,0,.34L11.29,7a.19.19,0,0,1-.17.12.28.28,0,0,1-.23,0c-.17-.12-.37-.24-.58-.36a2,2,0,0,0-1.13-.29,1.67,1.67,0,0,0-.76.16.54.54,0,0,0-.33.51.74.74,0,0,0,.4.6,6.78,6.78,0,0,0,1.09.47v0A6.72,6.72,0,0,1,11.29,9a2.11,2.11,0,0,1,.9,1.74,2.59,2.59,0,0,1-.67,1.8,2.92,2.92,0,0,1-1.68.92v1.06a.27.27,0,0,1-.08.21.25.25,0,0,1-.18.08H8.53a.32.32,0,0,1-.2-.08A.25.25,0,0,1,8.24,14.52Z"></path>
                </svg>
            </div>
        </div>
        <!-- /// -->
        <fieldset [formGroup]="form" [disabled]="isSaving">
            <div class="tab-content" [class.tab-content_active]="activeTab === 'general'" formGroupName="primary">
                <div class="tab-content-header tab-content-header_tablet tab-content-header_mobile">{{ 'settings.translators.editor.general__tab_label' | translate }}</div>
                <div class="translator-editor__section">
                    <div class="translator-editor__section-header">
                        <div class="translator-editor__section-header-caption">{{ 'settings.translators.editor.general__personal___group_label' | translate }}</div>
                    </div>
                    <div class="translator-editor__section-content">
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.last_name__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="lastName">
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.first_name__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="firstName">
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.middle_name__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="middleName">
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.legal_name__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="legalName">
                        </div>
                    </div>
                </div>
                <div class="translator-editor__section">
                    <div class="translator-editor__section-header">
                        <div class="translator-editor__section-header-caption">{{ 'settings.translators.editor.general__contacts___group_label' | translate }}</div>
                    </div>
                    <div class="translator-editor__section-content">
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.email__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="email">
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.secondary_email__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="email2">
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.phone__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="phone">
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.home_phone__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="phone2">
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.fax__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="fax">
                        </div>
                    </div>
                </div>
                <div class="translator-editor__section">
                    <div class="translator-editor__section-header">
                        <div class="translator-editor__section-header-caption">{{ 'settings.translators.editor.general__address___group_label' | translate }}</div>
                    </div>
                    <div class="translator-editor__section-content">
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.address_line_1__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="addressLine">
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.address_line_2__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="addressLine2">
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.city__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="city">
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.state__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="state">
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.zip_code__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="zip">
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.country__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="country">
                        </div>
                    </div>
                </div>
                <div class="translator-editor__section">
                    <div class="translator-editor__section-header">
                        <div class="translator-editor__section-header-caption">{{ 'settings.translators.editor.general__misc___group_label' | translate }}</div>
                    </div>
                    <div class="translator-editor__section-content">
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.native_language__label' | translate }}
                                </span>
                            </label>
                            <select class="select select_regular translator-editor__control-input" formControlName="nativeLanguage">
                                <option *ngFor="let languageOption of languageOptions" [ngValue]="languageOption.value">{{ languageOption.display | translate }}</option>
                            </select>
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.comments__label' | translate }}
                                </span>
                            </label>
                            <textarea class="textarea translator-editor__control-input" formControlName="comment"></textarea>
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.color__label' | translate }}
                                </span>
                            </label>
                            <div class="translator-editor__control-input">
                                <translators-color-picker formControlName="color"></translators-color-picker>
                            </div>
                        </div>
                        <div class="translator-editor__control">
                            <div class="translator-editor__control-input">
                                <checkbox formControlName="active">{{ 'settings.translators.editor.active__checkbox' | translate }}</checkbox>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-content" [class.tab-content_active]="activeTab === 'services'">
                <div class="tab-content-header tab-content-header_tablet tab-content-header_mobile">{{ 'settings.translators.editor.services__tab_label' | translate }}</div>
                <div class="translator-editor__services" [ngSwitch]="viewportBreakpoint">
                    <ng-container *ngSwitchCase="'desktop'">
                        <button class="button button_regular button_blue" *ngIf="canEdit" (click)="onAddService()">
                            <span class="button__caption">{{ 'settings.translators.editor.add_service__button' | translate }}</span>
                        </button>
                        <div class="translator-editor__services-list">
                            <div class="items-table-wrap">
                                <table class="items-table translator-editor__services-table">
                                    <thead>
                                        <tr>
                                            <th>{{ 'settings.translators.editor.service_company_service__table_th' | translate }}</th>
                                            <th>{{ 'settings.translators.editor.service_subject_area__table_th' | translate }}</th>
                                            <th>{{ 'settings.translators.editor.service_translation_type__table_th' | translate }}</th>
                                            <th>{{ 'settings.translators.editor.service_notary__table_th' | translate }}</th>
                                            <th>{{ 'settings.translators.editor.service_extra__table_th' | translate }}</th>
                                            <th>{{ 'settings.translators.editor.service_price__table_th' | translate }}</th>
                                            <th>{{ 'settings.translators.editor.service_unit__table_th' | translate }}</th>
                                            <th>&nbsp;</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let serviceWrap of translatorServiceWraps">
                                            <td>{{ getCompanyServiceName(serviceWrap.service.companyServiceId) }}</td>
                                            <td>{{ getSubjectAreasNames(serviceWrap.service) }}</td>
                                            <td>{{ getTranslationTypeName(serviceWrap.service.translationTypeId) | translate }}</td>
                                            <td>{{ (serviceWrap.service.notary ? 'settings.translators.editor.notary_yes__text' : 'settings.translators.editor.notary_no__text') | translate }}</td>
                                            <td>{{ (serviceWrap.service.extraService ? 'settings.translators.editor.notary_yes__text' : 'settings.translators.editor.notary_no__text') | translate }}</td>
                                            <td>{{ serviceWrap.service.price | currency : serviceWrap.service.currency : 'symbol' : '.2-2'  }}</td>
                                            <td>{{ getServiceUnit(serviceWrap.service.companyServiceId) }}</td>
                                            <td class="translator-editor__services-actions">
                                                <span class="translator-editor__services-buttons">
                                                    <button type="button" class="translator-editor__services-button translator-editor__services-button_edit" (click)="onEditService(serviceWrap)"></button>
                                                    <button type="button" class="translator-editor__services-button translator-editor__services-button_delete" (click)="onDeleteService(serviceWrap)"></button>
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </ng-container>
                    <ng-container *ngSwitchDefault>
                        <div class="translator-editor__services-controls">
                            <button class="button button_regular button_blue translator-editor__services-control translator-editor__services-control_add"
                                *ngIf="canEdit"
                                (click)="onAddService()"
                            >
                                <span class="button__caption">{{ 'settings.translators.editor.add_service__button' | translate }}</span>
                            </button>
                            <button class="translator-editor__services-control translator-editor__services-control_toggle-all"
                                *ngIf="translatorServiceWraps.length"
                                [class.translator-editor__services-control_has-opened]="hasOpenedServices"
                                (click)="toggleAllServiceDetails()"
                            ></button>
                        </div>
                        <div class="translator-editor__services-list" *ngIf="translatorServiceWraps.length">
                            <div class="translator-editor__services-list-item" *ngFor="let serviceWrap of translatorServiceWraps" [class.translator-editor__services-list-item_opened]="serviceWrap.isOpen">
                                <div class="translator-editor__services-list-item-main">
                                    <div class="translator-editor__services-list-item-name">
                                        {{ getCompanyServiceName(serviceWrap.service.companyServiceId) }}&nbsp;
                                    </div>
                                    <button type="button" class="translator-editor__services-list-item-button translator-editor__services-list-item-button_edit" (click)="onEditService(serviceWrap)"></button>
                                    <button type="button" class="translator-editor__services-list-item-button translator-editor__services-list-item-button_delete" (click)="onDeleteService(serviceWrap)"></button>
                                    <button type="button" class="translator-editor__services-list-item-button translator-editor__services-list-item-button_toggle" (click)="toggleServiceDetails(serviceWrap)"></button>
                                </div>
                                <table class="translator-editor__services-list-item-details">
                                    <tbody>
                                        <tr>
                                            <th>{{ 'settings.translators.editor.service_subject_area__table_th' | translate }}</th>
                                            <td>{{ getSubjectAreasNames(serviceWrap.service) }}</td>
                                        </tr>
                                        <tr>
                                            <th>{{ 'settings.translators.editor.service_translation_type__table_th' | translate }}</th>
                                            <td>{{ getTranslationTypeName(serviceWrap.service.translationTypeId) | translate }}</td>
                                        </tr>
                                        <tr>
                                            <th>{{ 'settings.translators.editor.service_notary__table_th' | translate }}</th>
                                            <td>{{ (serviceWrap.service.notary ? 'settings.translators.editor.notary_yes__text' : 'settings.translators.editor.notary_no__text') | translate }}</td>
                                        </tr>
                                        <tr>
                                            <th>{{ 'settings.translators.editor.service_extra__table_th' | translate }}</th>
                                            <td>{{ (serviceWrap.service.extraService ? 'settings.translators.editor.notary_yes__text' : 'settings.translators.editor.notary_no__text') | translate }}</td>
                                        </tr>
                                        <tr>
                                            <th>{{ 'settings.translators.editor.service_price__table_th' | translate }}</th>
                                            <td>{{ serviceWrap.service.price | currency : serviceWrap.service.currency : 'symbol' : '.2-2'  }}</td>
                                        </tr>
                                        <tr>
                                            <th>{{ 'settings.translators.editor.service_unit__table_th' | translate }}</th>
                                            <td>{{ getServiceUnit(serviceWrap.service.companyServiceId) }}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </ng-container>
                </div>
            </div>
            <div class="tab-content" [class.tab-content_active]="activeTab === 'financial'" formGroupName="financial">
                <div class="tab-content-header tab-content-header_tablet tab-content-header_mobile">{{ 'settings.translators.editor.financial__tab_label' | translate }}</div>
                <div class="translator-editor__section">
                    <div class="translator-editor__section-header">
                        <div class="translator-editor__section-header-caption">{{ 'settings.translators.editor.financial__payments___group_label' | translate }}</div>
                    </div>
                    <div class="translator-editor__section-content">
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.financial__tin__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="tin">
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.financial__ssn__label' | translate }}
                                </span>
                            </label>
                            <div class="translator-editor__control-input translator-editor__ssn">
                                <input class="input input_regular translator-editor__ssn-input" [class.translator-editor__ssn-input_not-visible]="ssnState !== 'visible'" formControlName="personalNumber">
                                <button type="button" class="translator-editor__ssn-show" *ngIf="ssnState === 'hidden'" [disabled]="isSaving" (click)="onShowSSN()"></button>
                                <div class="translator-editor__ssn-spinner" *ngIf="ssnState === 'loading'"></div>
                            </div>
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.financial__currency__label' | translate }}
                                </span>
                            </label>
                            <select class="select select_regular translator-editor__control-input" formControlName="currency">
                                <option *ngFor="let currencyOption of currenciesOptions" [value]="currencyOption.value">{{ currencyOption.display }}</option>
                            </select>
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.financial__payment_type__label' | translate }}
                                </span>
                            </label>
                            <select class="select select_regular translator-editor__control-input" formControlName="paymentType">
                                <option *ngFor="let paymentTypeOption of paymentTypeOptions" [ngValue]="paymentTypeOption.value">{{ paymentTypeOption.display }}</option>
                            </select>
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.financial__bank_name__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="bankName">
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.financial__account_number__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="bankAccount">
                        </div>
                    </div>
                </div>
                <div class="translator-editor__section">
                    <div class="translator-editor__section-header">
                        <div class="translator-editor__section-header-caption">{{ 'settings.translators.editor.financial__birth___group_label' | translate }}</div>
                    </div>
                    <div class="translator-editor__section-content">
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.financial__date_of_birth__label' | translate }}
                                </span>
                            </label>
                            <div class="translator-editor__control-input">
                                <datepicker [format]="dateSelectFormat" formControlName="dateOfBirth"></datepicker>
                            </div>
                        </div>
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.financial__place_of_birth__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="placeOfBirth">
                        </div>
                        <div class="translator-editor__control-group" formGroupName="placeOfBirthAddress">
                            <div class="translator-editor__control">
                                <label class="translator-editor__control-label">
                                    <span class="translator-editor__control-label-text">
                                        {{ 'settings.translators.editor.financial__address_line_1__label' | translate }}
                                    </span>
                                </label>
                                <input class="input input_regular translator-editor__control-input" formControlName="addressLine">
                            </div>
                            <div class="translator-editor__control">
                                <label class="translator-editor__control-label">
                                    <span class="translator-editor__control-label-text">
                                        {{ 'settings.translators.editor.financial__address_line_2__label' | translate }}
                                    </span>
                                </label>
                                <input class="input input_regular translator-editor__control-input" formControlName="addressLine2">
                            </div>
                            <div class="translator-editor__control">
                                <label class="translator-editor__control-label">
                                    <span class="translator-editor__control-label-text">
                                        {{ 'settings.translators.editor.financial__city__label' | translate }}
                                    </span>
                                </label>
                                <input class="input input_regular translator-editor__control-input" formControlName="city">
                            </div>
                            <div class="translator-editor__control">
                                <label class="translator-editor__control-label">
                                    <span class="translator-editor__control-label-text">
                                        {{ 'settings.translators.editor.financial__state__label' | translate }}
                                    </span>
                                </label>
                                <input class="input input_regular translator-editor__control-input" formControlName="state">
                            </div>
                            <div class="translator-editor__control">
                                <label class="translator-editor__control-label">
                                    <span class="translator-editor__control-label-text">
                                        {{ 'settings.translators.editor.financial__country__label' | translate }}
                                    </span>
                                </label>
                                <input class="input input_regular translator-editor__control-input" formControlName="country">
                            </div>
                            <div class="translator-editor__control">
                                <label class="translator-editor__control-label">
                                    <span class="translator-editor__control-label-text">
                                        {{ 'settings.translators.editor.financial__zip__label' | translate }}
                                    </span>
                                </label>
                                <input class="input input_regular translator-editor__control-input" formControlName="zip">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="translator-editor__section">
                    <div class="translator-editor__section-header">
                        <div class="translator-editor__section-header-caption">{{ 'settings.translators.editor.financial__tax___group_label' | translate }}</div>
                    </div>
                    <div class="translator-editor__section-content">
                        <div class="translator-editor__control">
                            <label class="translator-editor__control-label">
                                <span class="translator-editor__control-label-text">
                                    {{ 'settings.translators.editor.financial__tax_agency__label' | translate }}
                                </span>
                            </label>
                            <input class="input input_regular translator-editor__control-input" formControlName="taxAgency">
                        </div>
                        <div class="translator-editor__control-group" formGroupName="taxAgencyAddress">
                            <div class="translator-editor__control">
                                <label class="translator-editor__control-label">
                                    <span class="translator-editor__control-label-text">
                                        {{ 'settings.translators.editor.financial__address_line_1__label' | translate }}
                                    </span>
                                </label>
                                <input class="input input_regular translator-editor__control-input" formControlName="addressLine">
                            </div>
                            <div class="translator-editor__control">
                                <label class="translator-editor__control-label">
                                    <span class="translator-editor__control-label-text">
                                        {{ 'settings.translators.editor.financial__address_line_2__label' | translate }}
                                    </span>
                                </label>
                                <input class="input input_regular translator-editor__control-input" formControlName="addressLine2">
                            </div>
                            <div class="translator-editor__control">
                                <label class="translator-editor__control-label">
                                    <span class="translator-editor__control-label-text">
                                        {{ 'settings.translators.editor.financial__city__label' | translate }}
                                    </span>
                                </label>
                                <input class="input input_regular translator-editor__control-input" formControlName="city">
                            </div>
                            <div class="translator-editor__control">
                                <label class="translator-editor__control-label">
                                    <span class="translator-editor__control-label-text">
                                        {{ 'settings.translators.editor.financial__state__label' | translate }}
                                    </span>
                                </label>
                                <input class="input input_regular translator-editor__control-input" formControlName="state">
                            </div>
                            <div class="translator-editor__control">
                                <label class="translator-editor__control-label">
                                    <span class="translator-editor__control-label-text">
                                        {{ 'settings.translators.editor.financial__country__label' | translate }}
                                    </span>
                                </label>
                                <input class="input input_regular translator-editor__control-input" formControlName="country">
                            </div>
                            <div class="translator-editor__control">
                                <label class="translator-editor__control-label">
                                    <span class="translator-editor__control-label-text">
                                        {{ 'settings.translators.editor.financial__zip__label' | translate }}
                                    </span>
                                </label>
                                <input class="input input_regular translator-editor__control-input" formControlName="zip">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </fieldset>
    </ng-container>
</ng-container>

<popup-custom #serviceEditor [options]="{ closeBy: 'manual' }" class="translator-editor__service-editor" (onCloseRequest)="hideServiceEditor($event)">
    <popup-box>
        <popup-header>{{ (serviceEditorMode == 'edit' ? 'settings.translators.editor.editor_edit__header' : 'settings.translators.editor.editor_add__header') | translate }}</popup-header>
        <popup-content>
            <!-- Content -->
            <div class="translator-editor__service-editor-content" *ngIf="serviceWrapToEdit">
                <div class="translator-editor__controls">
                    <div class="translator-editor__control">
                        <label class="translator-editor__control-label">
                            <span class="translator-editor__control-label-text">
                                {{ 'settings.translators.editor.editor_filter_services__label' | translate }}
                            </span>
                        </label>
                        <div class="translator-editor__control-input translator-editor__service-editor-filter">
                            <select class="select select_regular" [(ngModel)]="serviceEditorFilters.from" (ngModelChange)="onServiceEditorFilterChange()">
                                <option *ngFor="let languageOption of languageOptions" [ngValue]="languageOption.value" [innerHTML]="languageOption.display | translate"></option>
                            </select>
                            <div class="translator-editor__service-editor-filter-arrow">&rarr;</div>
                            <select class="select select_regular" [(ngModel)]="serviceEditorFilters.to" (ngModelChange)="onServiceEditorFilterChange()">
                                <option *ngFor="let languageOption of languageOptions" [ngValue]="languageOption.value" [innerHTML]="languageOption.display | translate"></option>
                            </select>
                            <button type="button" class="translator-editor__service-editor-filter-clear" (click)="onServiceEditorFiltersClear()" [disabled]="!isServiceEditorClearButtonActive()"></button>
                        </div>
                    </div>
                    <div class="translator-editor__service-editor-sep"></div>
                    <div class="translator-editor__control">
                        <label class="translator-editor__control-label">
                            <span class="translator-editor__control-label-text">
                                {{ 'settings.translators.editor.editor_company__label' | translate }}
                            </span>
                        </label>
                        <select class="select select_regular translator-editor__control-input" [(ngModel)]="serviceWrapToEdit.service.companyServiceId">
                            <option *ngFor="let serviceOption of filteredServiceOptions" [ngValue]="serviceOption.value" [innerHTML]="serviceOption.display"></option>
                        </select>
                    </div>
                    <div class="translator-editor__control">
                        <label class="translator-editor__control-label">
                            <span class="translator-editor__control-label-text">
                                {{ 'settings.translators.editor.editor_subject_area__label' | translate }}
                            </span>
                        </label>
                        <div class="translator-editor__control-input translator-editor__service-editor-subject-area">
                            <select class="select select_regular translator-editor__control-input" [ngModel]="subjectAreaModel" (ngModelChange)="onServiceEditorSubjectAreaSelect($event)">
                                <option *ngFor="let subjectAreaOption of filteredSubjectAreaOptions" [ngValue]="subjectAreaOption.value" [innerHTML]="subjectAreaOption.display | translate"></option>
                            </select>
                            <div class="translator-editor__service-editor-subject-area-items" *ngIf="serviceWrapToEdit.service.fieldIds.length">
                                <div class="translator-editor__service-editor-subject-area-item" *ngFor="let subjectAreaId of serviceWrapToEdit.service.fieldIds">
                                    <div class="translator-editor__service-editor-subject-area-item-text">{{ getSubjectAreasName(subjectAreaId) }}</div>
                                    <button type="button" class="translator-editor__service-editor-subject-area-item-delete" (click)="onDeleteSubjectArea(subjectAreaId)"></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="translator-editor__control">
                        <label class="translator-editor__control-label">
                            <span class="translator-editor__control-label-text">
                                {{ 'settings.translators.editor.editor_translation_type__label' | translate }}
                            </span>
                        </label>
                        <select class="select select_regular translator-editor__control-input" [(ngModel)]="serviceWrapToEdit.service.translationTypeId">
                            <option *ngFor="let translationTypeOption of translationTypeOptions" [ngValue]="translationTypeOption.value" [innerHTML]="translationTypeOption.display | translate"></option>
                        </select>
                    </div>
                    <div class="translator-editor__control">
                        <label class="translator-editor__control-label">
                            <span class="translator-editor__control-label-text">
                                {{ 'settings.translators.editor.editor_price__label' | translate }}
                            </span>
                        </label>
                        <input type="text" class="input input_regular translator-editor__control-input" [(ngModel)]="serviceWrapToEdit.service.price">
                    </div>
                    <div class="translator-editor__control">
                        <label class="translator-editor__control-label">
                            <span class="translator-editor__control-label-text">
                                {{ 'settings.translators.editor.editor_currency__label' | translate }}
                            </span>
                        </label>
                        <select class="select select_regular translator-editor__control-input" [(ngModel)]="serviceWrapToEdit.service.currency">
                            <option *ngFor="let currencyOption of currenciesOptions" [value]="currencyOption.value" [innerHTML]="currencyOption.display"></option>
                        </select>
                    </div>
                    <div class="translator-editor__control">
                        <label class="translator-editor__control-label">
                            <span class="translator-editor__control-label-text">
                                {{ 'settings.translators.editor.editor_unit__label' | translate }}
                            </span>
                        </label>
                        <input type="text" class="input input_regular translator-editor__control-input" [value]="getServiceUnit(serviceWrapToEdit.service.companyServiceId)" readonly>
                    </div>
                    <div class="translator-editor__control">
                        <div class="translator-editor__control-input">
                            <checkbox [(ngModel)]="serviceWrapToEdit.service.notary">{{ 'settings.translators.editor.notary__checkbox' | translate }}</checkbox>
                        </div>
                    </div>
                    <div class="translator-editor__control">
                        <div class="translator-editor__control-input">
                            <checkbox [(ngModel)]="serviceWrapToEdit.service.extraService">{{ 'settings.translators.editor.extra_service__checkbox' | translate }}</checkbox>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /Content -->
        </popup-content>
        <popup-controls>
            <div class="popup__controls-buttons" *ngIf="serviceWrapToEdit">
                <button type="button" class="button button_regular button_white" (click)="hideServiceEditor()">
                    <span class="button__caption">{{ 'settings.translators.editor.editor_cancel__button' | translate }}</span>
                </button>
                <button type="button" class="button button_regular button_blue" (click)="onServiceSubmit()" [isDisabled]="!isServiceValid()">
                    <span class="button__caption">{{ 'settings.translators.editor.editor_ok__button' | translate }}</span>
                </button>
            </div>
        </popup-controls>
    </popup-box>
</popup-custom>
