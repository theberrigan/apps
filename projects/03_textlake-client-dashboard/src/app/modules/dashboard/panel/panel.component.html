<div class="panel__items">
    <div class="panel__item panel__item-back" [class.panel__item-back_button-active]="isBackButtonActive">
        <div class="panel__logo" role="button" (click)="onNavToggle.emit()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" class="panel__logo-img">
                <path style="fill: currentColor;" d="M25.8592,0H10.1408A10.1477,10.1477,0,0,0,0,10.1408V25.8592A10.1477,10.1477,0,0,0,10.1408,36H25.8592A10.1477,10.1477,0,0,0,36,25.8592V10.1408A10.1477,10.1477,0,0,0,25.8592,0ZM20.8445,26.3916c-3.098,0-4.6191-.9127-7.2253-.92A6.909,6.909,0,0,0,9.7606,26.493s.3486-4.2047,5.4988-4.2047c3.2476.0216,4.135.9089,7.2507.919a7.3391,7.3391,0,0,0,3.7293-1.0242S25.8427,26.3916,20.8445,26.3916Zm0-6.3381c-3.098,0-4.6191-.9127-7.2253-.92a6.909,6.909,0,0,0-3.8586,1.0217s.3486-4.2046,5.4988-4.2046c3.2476.0215,4.135.9089,7.2507.919a7.3391,7.3391,0,0,0,3.7293-1.0242S25.8427,20.0535,20.8445,20.0535Zm0-6.338c-3.098,0-4.6191-.9127-7.2253-.92a6.909,6.909,0,0,0-3.8586,1.0217s.3486-4.2046,5.4988-4.2046c3.2476.0215,4.135.9088,7.2507.919A7.34,7.34,0,0,0,26.2394,9.507S25.8427,13.7155,20.8445,13.7155Z"></path>
            </svg>
        </div>
        <button class="panel__button" (click)="onGoBack()">
            <span class="panel__button-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="19px" height="16px" viewBox="0 0 19 16">
                    <polygon style="fill: currentColor;" points="18.4 8.7 3.8 8.7 9.1 14 7.7 15.4 0 7.7 7.7 0 9.1 1.4 3.8 6.7 18.4 6.7 18.4 8.7"></polygon>
                </svg>
            </span>
        </button>
    </div>
    <div class="panel__item panel__item-nav-toggle">
        <button class="panel__button" (click)="onNavToggle.emit()">
            <span class="panel__button-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 18 18">
                    <path style="fill: currentColor;" d="M0,13 L0,13 L18,13 L18,15 L0,15 ZM0,8 L18,8 L18,10 L0,10 L0,8 ZM0,3 L18,3 L18,5 L0,5 L0,3 Z"></path>
                </svg>
            </span>
        </button>
    </div>
    <!--<img src="../../../../assets/images/social_google.png">-->
    <div class="panel__item panel__item-balance">
        <a class="panel__button" routerLink="/dashboard/billing/balance">$1337.00</a>
    </div>
    <div class="panel__item panel__item-notifications">
        <button class="panel__button" (click)="toggleNotifications($event)" [class.panel__button_active]="isNotificationsMenuActive">
            <span class="panel__button-icon" data-icon="notifications" [class.panel__button-icon_animated]="isNotificationsIconAnimated">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
                    <path style="fill: currentColor;" d="M16.5,11.9c-.7-.57-1.5-1.21-1.5-1.9V7A5.9985,5.9985,0,0,0,9.99,1.09.2769.2769,0,0,0,10,1,1,1,0,0,0,8,1a.2769.2769,0,0,0,.01.09A5.9985,5.9985,0,0,0,3,7v3c0,.68-.79,1.32-1.49,1.87C.73,12.49,0,13.07,0,13.98A1.969,1.969,0,0,0,2,16H6.17a3.0022,3.0022,0,0,0,5.66,0h4.16a2.1088,2.1088,0,0,0,1.44-.54A1.9386,1.9386,0,0,0,18,14.02C18,13.12,17.27,12.53,16.5,11.9ZM11,14a1.0029,1.0029,0,0,0-1,1,1,1,0,0,1-2,0,1.0029,1.0029,0,0,0-1-1l-4.89-.02c.17-.16.44-.38.64-.54C3.7,12.68,5,11.65,5,10V7a4,4,0,0,1,8,0v3c0,1.64,1.3,2.69,2.24,3.46.2.16.47.37.64.54Z"></path>
                </svg>
            </span>
            <span class="panel__button-dot" *ngIf="notificationsMarkType === 'dot' && !!unviewedNotifications"></span>
            <span class="panel__button-counter" *ngIf="notificationsMarkType === 'counter' && !!unviewedNotifications">{{ unviewedNotifications }}</span>
        </button>
        <menu class="notifications-menu" *ngIf="viewportBreakpoint !== 'mobile'" #notificationsMenu (isActiveChange)="onNotificationsToggle($event)">
            <div class="notifications-menu__content">
                <ng-container [ngTemplateOutlet]="notificationsTpl"></ng-container>
            </div>
        </menu>
        <div class="notifications" [class.notifications_active]="isNotificationsMenuActive" *ngIf="viewportBreakpoint === 'mobile'">
            <div class="notifications__nest">
                <div class="notifications__header">
                    <div class="notifications__title" [innerHTML]="'panel.notifications.notifications__header' | translate"></div>
                    <button type="button" class="notifications__button-deactivate" (click)="deactivateNotifications()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="19px" height="16px" viewBox="0 0 19 16" class="notifications__button-deactivate-arrow">
                            <polygon style="fill: currentColor;" points="0,8.7 14.6,8.7 9.3,14 10.7,15.4 18.4,7.7 10.7,0 9.3,1.4 14.6,6.7 0,6.7"></polygon>
                        </svg>
                    </button>
                </div>
                <div class="notifications__content">
                    <ng-container [ngTemplateOutlet]="notificationsTpl"></ng-container>
                </div>
            </div>
        </div>
        <ng-template #notificationsTpl>
            <ng-container [ngSwitch]="notificationsState">
                <div class="panel-empty panel-empty_has-spinner" *ngSwitchCase="'loading'">
                    <spinner class="spinner spinner_blue spinner_small"></spinner>
                </div>
                <div class="panel-empty" *ngSwitchCase="'error'">
                    <div class="panel-empty__message panel-empty__message_error" [innerHTML]="'panel.notifications.notifications_error__message' | translate"></div>
                </div>
                <ng-container *ngSwitchCase="'ok'">
                    <div class="panel-empty" *ngIf="!notifications.length">
                        <div class="panel-empty__message" [innerHTML]="'panel.notifications.notifications_empty__message' | translate"></div>
                    </div>
                    <ul class="notifications-list" *ngIf="notifications.length">
                        <li class="notifications-list__item" *ngFor="let notification of notifications" [ngSwitch]="notification.link">
                            <div class="notifications-list__item-content"
                                *ngSwitchCase="null"
                                [innerHTML]="notification.message"
                                @showTaskItem
                            ></div>
                            <a class="notifications-list__item-link"
                                *ngSwitchCase="'/dashboard/settings/user'"
                                [routerLink]="[]"
                                [queryParams]="{ z: 'profile' }"
                                [innerHTML]="notification.message"
                                (click)="deactivateNotifications()"
                                @showTaskItem
                            ></a>
                            <a class="notifications-list__item-link"
                                *ngSwitchDefault
                                [routerLink]="notification.link"
                                [innerHTML]="notification.message"
                                (click)="deactivateNotifications()"
                                @showTaskItem
                            ></a>
                        </li>
                    </ul>
                </ng-container>
            </ng-container>
        </ng-template>
    </div>
    <div class="panel__item panel__item-user">
        <button class="panel__button panel__button-user" [class.panel__button-user_needs-verification]="!userData.profile.primaryEmailVerified" [class.panel__button_active]="userMenu.isActive" (click)="userMenu.toggle($event)">
            <span class="panel__button-user-content-full">
                <svg xmlns="http://www.w3.org/2000/svg" width="8px" height="6px" viewBox="0 0 8 6" class="panel__user-arrow">
                    <path style="fill: currentColor;" d="M4,5.4L0.3,1.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0L4,2.6l2.3-2.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4L4,5.4z"></path>
                </svg>
                <span>{{ userData.profile.user.email || 'Profile' }}</span>
            </span>
            <span class="panel__button-user-content-mobile">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" class="panel__button-icon">
                    <path style="fill: currentColor;" d="M12.39,8.67a5,5,0,1,0-6.78,0A9.003,9.003,0,0,0,0,17a1.0029,1.0029,0,0,0,1,1H17a1.0029,1.0029,0,0,0,1-1A9.003,9.003,0,0,0,12.39,8.67ZM6,5A3,3,0,1,1,9,8,3.0088,3.0088,0,0,1,6,5ZM2.07,16a7.0021,7.0021,0,0,1,13.86,0Z"></path>
                </svg>
            </span>
        </button>
        <menu #userMenu>
            <div class="user-menu">
                <ul class="menu__items">
                    <li class="menu__item" data-toggle *ngIf="!userData.profile.primaryEmailVerified">
                        <button type="button" (click)="onVerifyEmail()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" class="menu__item-icon">
                                <path d="M15.7,16H3a1,1,0,0,1-.86-1.5l6.35-11a1,1,0,0,1,1.73,0l6.35,11A1,1,0,0,1,15.7,16Z" style="fill: #f99333"></path>
                                <path d="M8.48,13.4a.74.74,0,0,1,.26-.59,1,1,0,0,1,1.3,0A.81.81,0,0,1,10,14a1,1,0,0,1-1.3,0A.75.75,0,0,1,8.48,13.4Zm1.59-1.51H8.73L8.52,7h1.76Z" style="fill: #fff"></path>
                            </svg>
                            {{ 'panel.user_menu.verify__button' | translate }}
                        </button>
                    </li>
                    <li class="menu__item" data-toggle>
                        <button type="button" (click)="onShowSettings()">{{ 'panel.user_menu.settings__button' | translate }}</button>
                    </li>
                    <li class="menu__item" data-toggle>
                        <button type="button" (click)="onSignOut()">{{ 'panel.user_menu.logout__button' | translate }}</button>
                    </li>
                </ul>
                <ng-container *ngIf="altAccounts">
                    <div class="menu__label">{{ 'panel.user_menu.alt_accounts__sep' | translate }}</div>
                    <ul class="menu__items">
                        <li class="menu__item menu__item-selectable" data-toggle *ngFor="let account of altAccounts">
                            <button type="button" (click)="onSwitchAccount(account)">{{ account.name }}</button>
                        </li>
                    </ul>
                </ng-container>
            </div>
        </menu>
    </div>
</div>
